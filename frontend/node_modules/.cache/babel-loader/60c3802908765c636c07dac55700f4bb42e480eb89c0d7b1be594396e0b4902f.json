{"ast":null,"code":"import axios from 'axios';\nexport const uploadAudio = async (file, savePath, onUploadProgress) => {\n  const formData = new FormData();\n  formData.append('file', file);\n  console.log('[uploadAudio] 準備送出 /api/transcribe 請求, file:', file, 'savePath:', savePath);\n  try {\n    const response = await axios.post('/api/transcribe', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      onUploadProgress\n    });\n    console.log('[uploadAudio] 收到 response:', response);\n    return response;\n  } catch (err) {\n    console.error('[uploadAudio] 發生錯誤:', err);\n    throw err;\n  } finally {\n    console.log('[uploadAudio] 請求結束');\n  }\n};\nexport const fetchServerDirs = async (base = 'uploads/') => {\n  const res = await axios.get('/api/list_dirs', {\n    params: {\n      base\n    }\n  });\n  return res.data.dirs;\n};","map":{"version":3,"names":["axios","uploadAudio","file","savePath","onUploadProgress","formData","FormData","append","console","log","response","post","headers","err","error","fetchServerDirs","base","res","get","params","data","dirs"],"sources":["/Users/wenhsu/Documents/my_project/whisper/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nexport const uploadAudio = async (file, savePath, onUploadProgress) => {\n  const formData = new FormData();\n  formData.append('file', file);\n  console.log('[uploadAudio] 準備送出 /api/transcribe 請求, file:', file, 'savePath:', savePath);\n  try {\n    const response = await axios.post('/api/transcribe', formData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n      onUploadProgress,\n    });\n    console.log('[uploadAudio] 收到 response:', response);\n    return response;\n  } catch (err) {\n    console.error('[uploadAudio] 發生錯誤:', err);\n    throw err;\n  } finally {\n    console.log('[uploadAudio] 請求結束');\n  }\n};\n\nexport const fetchServerDirs = async (base = 'uploads/') => {\n  const res = await axios.get('/api/list_dirs', { params: { base } });\n  return res.data.dirs;\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAOC,IAAI,EAAEC,QAAQ,EAAEC,gBAAgB,KAAK;EACrE,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEL,IAAI,CAAC;EAC7BM,OAAO,CAACC,GAAG,CAAC,8CAA8C,EAAEP,IAAI,EAAE,WAAW,EAAEC,QAAQ,CAAC;EACxF,IAAI;IACF,MAAMO,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAI,CAAC,iBAAiB,EAAEN,QAAQ,EAAE;MAC7DO,OAAO,EAAE;QAAE,cAAc,EAAE;MAAsB,CAAC;MAClDR;IACF,CAAC,CAAC;IACFI,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEC,QAAQ,CAAC;IACnD,OAAOA,QAAQ;EACjB,CAAC,CAAC,OAAOG,GAAG,EAAE;IACZL,OAAO,CAACM,KAAK,CAAC,qBAAqB,EAAED,GAAG,CAAC;IACzC,MAAMA,GAAG;EACX,CAAC,SAAS;IACRL,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;EACnC;AACF,CAAC;AAED,OAAO,MAAMM,eAAe,GAAG,MAAAA,CAAOC,IAAI,GAAG,UAAU,KAAK;EAC1D,MAAMC,GAAG,GAAG,MAAMjB,KAAK,CAACkB,GAAG,CAAC,gBAAgB,EAAE;IAAEC,MAAM,EAAE;MAAEH;IAAK;EAAE,CAAC,CAAC;EACnE,OAAOC,GAAG,CAACG,IAAI,CAACC,IAAI;AACtB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}